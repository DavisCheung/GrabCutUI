<!DOCTYPE html>
<link rel="stylesheet" href="https://unpkg.com/mvp.css">
<html lang="en">
    <head style="text-align: center">
        <title>GrabCutWeb</title>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="../static/selection.js"></script>
    </head>
    <body style="text-align: center">
        <h1>GrabCutWeb</h1>
        <p>Use the rectangle to select the object you wish to extract from the foreground.</p>
        <p>After making your selection, please press [Process Image]</p>
        <p>Larger images may take a long time to process</p>
        <div class="imgPreview">
            <div style="text-align: center">
                <canvas id="selection" class="data:image/png;base64,{{ img_data }}" style="max-width: 600px"  width="{{imgwidth}}" height="{{imgheight}}"></canvas>
                <img src="data:image/png;base64,{{ out_data }}" style="max-width: 600px" alt="output" id="output">
            </div>
        </div>
        <div>
            <a><button class="btn" style="color: black" onclick=returnSelection()><div id="process">Process Image</div></button></a>
            <a href="/download"><button class="btn" style="color: black">Download</button></a>
        </div>
        <div style="text-align: center" id="loader"><div></div><div></div><div></div><div></div></div>
    </body>
    <footer style="text-align: center">
        <div>
            <p style="color: white">Created by Davis Cheung - </p><a style="color: white" href="https://davischeung.com">davischeung.com</a>
            <p><a style="color: white" href="https://github.com/DavisCheung/GrabCutUI/">Repository</a></p>
        </div>
    </footer>

    <!--Loading spinner "lds-ellipsis" taken from: https://github.com/loadingio/css-spinner-->
    <style type="text/css">
        .lds-ellipsis,
        .lds-ellipsis div {
          box-sizing: border-box;
        }
        .lds-ellipsis {
          display: inline-block;
          position: relative;
          width: 80px;
          height: 80px;
        }
        .lds-ellipsis div {
          position: absolute;
          top: 33.33333px;
          width: 13.33333px;
          height: 13.33333px;
          border-radius: 50%;
          background: currentColor;
          animation-timing-function: cubic-bezier(0, 1, 1, 0);
        }
        .lds-ellipsis div:nth-child(1) {
          left: 8px;
          animation: lds-ellipsis1 0.6s infinite;
        }
        .lds-ellipsis div:nth-child(2) {
          left: 8px;
          animation: lds-ellipsis2 0.6s infinite;
        }
        .lds-ellipsis div:nth-child(3) {
          left: 32px;
          animation: lds-ellipsis2 0.6s infinite;
        }
        .lds-ellipsis div:nth-child(4) {
          left: 56px;
          animation: lds-ellipsis3 0.6s infinite;
        }
        @keyframes lds-ellipsis1 {
          0% {
            transform: scale(0);
          }
          100% {
            transform: scale(1);
          }
        }
        @keyframes lds-ellipsis3 {
          0% {
            transform: scale(1);
          }
          100% {
            transform: scale(0);
          }
        }
        @keyframes lds-ellipsis2 {
          0% {
            transform: translate(0, 0);
          }
          100% {
            transform: translate(24px, 0);
          }
        }
        
        </style>
</html>